## æ•°ç»„æ’åºï¼ˆå¿«æ’ç®€ç‰ˆï¼‰

> [leetcode](https://leetcode.cn/problems/sort-an-array/)

```js
var sortArray = function (nums) {
    if (nums.length <= 1) return nums;
    let minList = [];
    let maxList = [];
    for (let i = 1; i < nums.length; i++) {
        if (nums[i] > nums[0]) maxList.push(nums[i]);
        else minList.push(nums[i]);
    }
    return [...sortArray(minList), nums[0], ...sortArray(maxList)];
};
```

## æ•°ç»„æ’åºï¼ˆå¿«æ’æ ‡å‡†ç‰ˆï¼‰

> [leetcode](https://leetcode.cn/problems/sort-an-array/)

```js
var sortArray = function (nums) {
    // åˆ†æ²»é€’å½’
    function loop(arr, left, right) {
        if (left < right) {
            const middle = compare(arr, left, right); // å¯»æ‰¾ä¸­å¿ƒå¹¶æ’åºå¤§å°åŒºé—´
            loop(arr, left, middle - 1); // æ’åºå°åŒºé—´
            loop(arr, middle + 1, right); // æ’åºå¤§åŒºé—´
        }
    }
    // å¿«æ…¢æŒ‡é’ˆåŒºé—´æ’åº
    function compare(arr, left, right) {
        let base = left; // åŸºå‡†ä¸­å¿ƒ
        let slow = left + 1; // æ…¢æŒ‡é’ˆ
        for (let fast = slow; fast <= right; fast++) {
            // å¿«æŒ‡é’ˆ
            if (arr[fast] < arr[base]) {
                // å‡åºæ’åˆ—
                swap(arr, slow, fast);
                slow++;
            }
        }
        swap(arr, base, slow - 1);
        return slow - 1;
    }
    // æ•°ç»„é¡¹äº¤æ¢
    function swap(arr, a, b) {
        [arr[a], arr[b]] = [arr[b], arr[a]];
    }

    loop(nums, 0, nums.length - 1);

    return nums;
};
```

## æ•°ç»„æ’åºï¼ˆå†’æ³¡ï¼‰

> [leetcode](https://leetcode.cn/problems/sort-an-array/)

```js
var sortArray = function (nums) {
    let len = nums.length;
    for (let i = 0; i < len - 1; i++) {
        let hasSorted = false;
        for (let j = 0; j < len - 1 - i; j++) {
            if (nums[j] > nums[j + 1]) {
                [nums[j], nums[j + 1]] = [nums[j + 1], nums[j]];
                hasSorted = true;
            }
        }
        if (!hasSorted) {
            break;
        }
    }
    return nums;
};
```

## æ•°ç»„åˆ é™¤

```js
function arrayDelete(arr) {
    let slow = -1; // æ…¢æŒ‡é’ˆ
    let len = arr.length; // æ•°ç»„é•¿åº¦
    for (let i = 0; i < arr.length; i++) {
        if (arr[i] === value) {
            // æŸ¥æ‰¾åˆ°åˆ é™¤é¡¹
            arr[i] = undefined;
            slow = slow === -1 ? i : slow; // æ…¢æŒ‡é’ˆè®°å½•ç©ºé¡¹ç´¢å¼•
            len--;
        } else if (arr[i] !== value && slow !== -1) {
            // æ…¢æŒ‡é’ˆæœ‰å€¼ä¸”éåˆ é™¤é¡¹
            arr[slow] = arr[i];
            arr[i] = undefined;
            slow++; // æ…¢æŒ‡é’ˆè®°å½•ç©ºé¡¹ç´¢å¼•
        }
    }
    arr.length = len; // å˜æ›´æ–°é•¿åº¦
    return arr;
}
```

## æ¥é›¨æ°´

> [leetcode](https://leetcode.cn/problems/trapping-rain-water/)

```js
/**
 * å‰ç¼€ï¼ˆå«è‡ªèº«ï¼‰æœ€å¤§å€¼ l_max
 * åç¼€ï¼ˆå«è‡ªèº«ï¼‰æœ€å¤§å€¼ r_max
 * å­˜æ°´æ¡ä»¶ï¼šMath.min(l_max, r_max) æ˜¯å¦å¤§äº è‡ªèº«
 */
var trap = function (height = []) {
    let sum = 0;
    let l_max = height[0];
    let r_max = height[height.length - 1];
    let left = 0;
    let right = height.length - 1;
    while (left <= right) {
        l_max = Math.max(height[left], l_max);
        r_max = Math.max(height[right], r_max);
        if (l_max < r_max) {
            sum += l_max - height[left++];
        } else {
            sum += r_max - height[right--];
        }
    }
    return sum;
};
```

## ä¸‰æ•°ä¹‹å’Œ

> [leetcode](https://leetcode.cn/problems/3sum/?envType=study-plan-v2&envId=top-interview-150)

```js
/**
 * å…ˆæ’åºå¾—åˆ°éé€’å‡æ•°ç»„
 * å†éå†ï¼Œæ¯æ¬¡å›ºå®šä¸€ä¸ªæ•°ç»„ï¼Œä½™ä¸‹ä¸¤ä¸ªæ•°å­—åšç›¸å‘æŒ‡é’ˆè¿åŠ¨
 * ä¼˜åŒ–1: arr[i] + arr[n-1] + arr[n-2] å°äº sumï¼Œæœ¬æ¬¡æ— è§£è·³è¿‡
 * ä¼˜åŒ–2: arr[i] + arr[i+1] + arr[i+2] å¤§äº sumï¼Œæœ¬é¢˜æ— è§£è·³å‡º
 * ä¼˜åŒ–3: i>0 && nums[i]===nums[i - 1], ç›¸åŒå€¼ï¼Œå·²è®¡ç®—ï¼Œæœ¬æ¬¡è·³è¿‡
 * æŸ¥æ‰¾ä¸‰æ•°ä¹‹å’Œ
 */
var threeSum = function (nums) {
    let target = 0;
    // ç»“æœ
    let res = [];
    // éé€’å‡
    nums.sort((a, b) => a - b);
    // æ•°ç»„é¡¹ä¸ªæ•°
    let n = nums.length;
    // éå†
    for (let i = 0; i < n - 2; i++) {
        // ç›¸åŒå€¼è·³è¿‡ i
        if (i > 0 && nums[i] === nums[i - 1]) continue;
        // é¦–ä½çš„å’Œå°äºç›®æ ‡å€¼ï¼Œåˆ™å½“å‰é¡¹å…¨éƒ¨æƒ…å†µéƒ½å°äºç›®æ ‡å€¼ï¼Œè·³è¿‡ i
        if (nums[i] + nums[n - 1] + nums[n - 2] < target) continue;
        // è¿ç»­çš„å’Œå¤§äºç›®æ ‡å€¼ï¼Œåˆ™æ‰€æœ‰æƒ…å†µä¹Ÿå¿…ç„¶å¤§äºç›®æ ‡å€¼ï¼Œå…³é—­ for
        if (nums[i] + nums[i + 1] + nums[i + 2] > target) break;
        // å€Ÿç”¨ä¸¤æ•°ä¹‹å’Œçš„ç›¸å‘æŒ‡é’ˆæ€æƒ³
        const x = nums[i];
        let j = i + 1;
        let k = n - 1;
        // ç›¸å‘æŒ‡é’ˆè¿åŠ¨æ¡ä»¶
        while (j < k) {
            let sum = x + nums[j] + nums[k];
            if (sum > target) {
                k--;
            } else if (sum < target) {
                j++;
            } else {
                res.push([x, nums[j], nums[k]]);
                for (j++; j < k && nums[j] === nums[j - 1]; j++);
                for (k--; j < k && nums[k] === nums[k + 1]; k--);
            }
        }
    }

    return res;
};
```

## ä¸¤æ•°ä¹‹å’Œ

> [leetcode](https://leetcode.cn/problems/two-sum/submissions/)

```js
var twoSum = function (nums, target) {
    let obj = { [target - nums[0]]: 0 };
    for (let i = 1; i < nums.length; i++) {
        if (obj[nums[i]] !== undefined) {
            return [obj[nums[i]], i];
        }
        obj[target - nums[i]] = i;
    }
    return [];
};
```

## ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº

> [leetcode](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/)

ç»™å®šä¸€ä¸ªæ•°ç»„ prices ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´  prices[i] è¡¨ç¤ºä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚

ä½ åªèƒ½é€‰æ‹© æŸä¸€å¤© ä¹°å…¥è¿™åªè‚¡ç¥¨ï¼Œå¹¶é€‰æ‹©åœ¨ æœªæ¥çš„æŸä¸€ä¸ªä¸åŒçš„æ—¥å­ å–å‡ºè¯¥è‚¡ç¥¨ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚

è¿”å›ä½ å¯ä»¥ä»è¿™ç¬”äº¤æ˜“ä¸­è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚å¦‚æœä½ ä¸èƒ½è·å–ä»»ä½•åˆ©æ¶¦ï¼Œè¿”å› 0 ã€‚

```js
var maxProfit = function (prices) {
    let max_profit = 0; // å†å²æœ€å¤§æ”¶ç›Š
    let min_prices = prices[0]; // å†å²æœ€å°ä»·æ ¼
    for (let i = 1; i < prices.length; i++) {
        let profit = prices[i] - min_prices;
        max_profit = Math.max(max_profit, profit);
        min_prices = Math.min(min_prices, prices[i]);
    }
    return max_profit;
};
```

## ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II

> [leetcode](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/)

```js
var maxProfit = function (prices) {
    // é˜¶æ®µç´¯åŠ æ”¶ç›Š
    let sum = 0;
    // åŒå‘åŒæŒ‡é’ˆ
    for (let i = 0; i < prices.length; i++) {
        for (let j = i + 1; j < prices.length; j++) {
            if (prices[j] <= prices[i]) {
                // å°äºç­‰äºï¼ŒåŸåœ°å–å‡º
                break;
            } else if (prices[j] > prices[i] && prices[j + 1] > prices[j]) {
                // å¤§äºä¸”ååºè¿˜æœ‰æ›´å¤§åˆ©æ¶¦
                continue;
            } else {
                // è§å¥½å°±æ”¶
                sum += prices[j] - prices[i];
                i = j;
                break;
            }
        }
    }
    return sum;
};
```

## æ´—ç‰Œ

```js
function shuffle(arr) {
    for (let i = 0; i < arr.length; i++) {
        // éšæœºä½ç½®
        const j = Math.floor(Math.random() * arr.length);
        // å…ƒç´ äº¤æ¢
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
}
```

## æ‹¬å·ç”Ÿæˆ

> [leetcode](https://leetcode.cn/problems/IDBivT/description/)

æ­£æ•´æ•° n ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” æœ‰æ•ˆçš„ æ‹¬å·ç»„åˆã€‚

```js
// å‡è®¾ "ï¼ˆ"æ˜¯ 1, ")"æ˜¯ -1ï¼Œå‰ç¼€å’Œåªèƒ½ >= 0
var generateParenthesis = function (n) {
    let res = [];
    function loop(n, sum, str) {
        if (n === 0 || n < sum) {
            sum === 0 && res.push(str);
            return;
        }
        if (sum > 0) {
            loop(n - 1, sum + 1, str + "(");
            loop(n - 1, sum - 1, str + ")");
        }
        if (sum === 0) {
            loop(n - 1, sum + 1, str + "(");
        }
    }
    loop(n * 2, 0, "");
    return res;
};
```

## æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸² ğŸŒŸ

[#299]: https://leetcode.cn/problems/valid-parenthesis-string/description/

[leetcode][#299] ç»™ä½ ä¸€ä¸ªåªåŒ…å«ä¸‰ç§å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œæ”¯æŒçš„å­—ç¬¦ç±»å‹åˆ†åˆ«æ˜¯ '('ã€')' å’Œ '\*'ã€‚è¯·ä½ æ£€éªŒè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºæœ‰æ•ˆå­—ç¬¦ä¸²ï¼Œå¦‚æœæ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²è¿”å› true ã€‚

-   '\*' å¯ä»¥è¢«è§†ä¸ºå•ä¸ªå³æ‹¬å· ')' ï¼Œæˆ–å•ä¸ªå·¦æ‹¬å· '(' ï¼Œæˆ–ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚
-   ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä¹Ÿè¢«è§†ä¸ºæœ‰æ•ˆå­—ç¬¦ä¸²ã€‚

```js
/**
 * è´ªå¿ƒ
 *      (       (       *       *       )       )
 * min  +       +       -/0     -/0     -       -     æœ€å°å¾…åŒ¹é…å·¦æ‹¬å· ( æ•°é‡
 * max  +       +       +       +       -       -     æœ€å¤§å¾…åŒ¹é…å·¦æ‹¬å· ( æ•°é‡
 */
var checkValidString = function (s) {
    let min = 0; // å¾…åŒ¹é…å·¦æ‹¬å· ( æ•°é‡
    let max = 0; // å¾…åŒ¹é…å·¦æ‹¬å· ( æ•°é‡
    for (let i = 0; i < s.length; i++) {
        if (s[i] === "(") {
            min++;
            max++;
        } else if (s[i] === ")") {
            // å½“æœ€å°å€¼ä¸º 0 æ—¶ï¼Œä¸åº”å°†æœ€å°å€¼ç»§ç»­å‡å°‘ï¼Œä»¥ç¡®ä¿æœ€å°å€¼éè´Ÿã€‚
            min = Math.max(min - 1, 0);
            max--;
            if (max < 0) {
                // ä»»ä½•æƒ…å†µä¸‹ï¼ŒæœªåŒ¹é…çš„å·¦æ‹¬å·æ•°é‡å¿…é¡»éè´Ÿï¼Œå› æ­¤å½“æœ€å¤§å€¼å˜æˆè´Ÿæ•°æ—¶ï¼Œ
                // è¯´æ˜æ²¡æœ‰å·¦æ‹¬å·å¯ä»¥å’Œå³æ‹¬å·åŒ¹é…ï¼Œè¿”å› false
                return false;
            }
        } else {
            // å½“æœ€å°å€¼ä¸º 0 æ—¶ï¼Œä¸åº”å°†æœ€å°å€¼ç»§ç»­å‡å°‘ï¼Œä»¥ç¡®ä¿æœ€å°å€¼éè´Ÿã€‚
            min = Math.max(min - 1, 0);
            max++;
        }
    }
    // éå†ç»“æŸæ—¶ï¼Œæ‰€æœ‰çš„å·¦æ‹¬å·éƒ½åº”å’Œå³æ‹¬å·åŒ¹é…ï¼Œ
    // å› æ­¤åªæœ‰å½“æœ€å°å€¼ä¸º 0 æ—¶ï¼Œå­—ç¬¦ä¸² s æ‰æ˜¯æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²ã€‚
    return min === 0;
};
```

## å…¨æ’åˆ—

[#343]: https://leetcode.cn/problems/permutations/

[leetcode][#343] ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ— ã€‚ä½ å¯ä»¥ æŒ‰ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚

```js
var permute = function (nums) {
    let res = [];
    function loop(arr, used) {
        if (arr.length && arr.length === nums.length) {
            return res.push(arr);
        }
        for (let i = 0; i < nums.length; i++) {
            const num = nums[i];
            if (used[num]) continue;
            loop(arr.concat([num]), Object.assign({ [num]: true }, used));
        }
    }
    loop([], {});
    return res;
};
```
