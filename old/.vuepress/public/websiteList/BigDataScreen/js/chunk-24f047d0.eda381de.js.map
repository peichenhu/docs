{"version":3,"sources":["webpack:///./src/page/securityMonitor.vue?c955","webpack:///./src/page/securityMonitor.vue?69d9","webpack:///./src/model/chart_map.js","webpack:///./src/model/chart_pie.js","webpack:///./src/model/chart_line.js","webpack:///./src/components/box_progress.vue?a9de","webpack:///src/components/box_progress.vue","webpack:///./src/components/box_progress.vue?42cc","webpack:///./src/components/box_progress.vue","webpack:///./src/components/box_table.vue?92ce","webpack:///src/components/box_table.vue","webpack:///./src/components/box_table.vue?2c75","webpack:///./src/components/box_table.vue","webpack:///src/page/securityMonitor.vue","webpack:///./src/page/securityMonitor.vue?ecb6","webpack:///./src/page/securityMonitor.vue","webpack:///./src/components/box_table.vue?d41f","webpack:///./src/components/box_progress.vue?d76b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","isChina","on","switchMap","_v","attrs","listApp","listIP","ref","name","highAttackNum","highAppNum","interceptAttackNum","hackersNum","pieOpts","lineOpts","mapOpts","staticRenderFns","convertData","data","res","i","length","dataItem","fromCoord","geoCoordMap","toCoord","push","fromName","toName","coords","setDot","dot","effectDot","colors","high","medium","low","arr1","map","item","coord","itemStyle","color","level","arr2","value","type","coordinateSystem","zlevel","tooltip","formatter","list","filter","h","m","s","forEach","sites","site","join","rippleEffect","brushType","normal","markPoint","symbol","symbolSize","setLine","levelList","effect","show","period","trailLength","constantSpeed","lineStyle","width","curveness","shadowColor","shadowBlur","geoWorld","label","emphasis","top","left","right","bottom","zoom","roam","areaColor","borderColor","regions","selected","geoChina","trigger","geo","series","fmtSeries","obj","Object","keys","key","index","rgb","rgba","replace","labelLine","borderRadius","borderWidth","backgroundColor","rich","hr","height","b","align","padding","c","selectedMode","minAngle","avoidLabelOverlap","radius","position","date","Math","ceil","random","now","Date","addLineData","shift","getFullYear","getMonth","getDate","animationDuration","grid","xAxis","boundaryGap","axisLabel","rotate","axisLine","yAxis","splitLine","stack","areaStyle","x","y","x2","y2","global","colorStops","offset","_s","boxBarIP","$event","switchBox","style","_l","onClick","props","timerRefresh","timer","rollStyle","computed","mounted","animation","beforeDestroy","clearInterval","methods","console","log","$router","query","ip","site_id","id","setInterval","bool","component","title","_m","onClickIP","remote_ip","server_ip","fmtDate","attack_time","attack_type","String","default","tableList","updateTable","news","concat","slice","components","TOP","PROGRESS","TABLE","timerPie","timerMap","mapDataWorld","mapDataChina","created","getData","startTime","endTime","isChinaMap","pageSize","_id","$nextTick","updateMap","address","j","_high","_medium","_low","highLine","_line","_dot","mediumLine","lowLine","site_name","tmp","$refs","clear","animationMap","updatePie","attackLevel","attackType","animationPie","dispatchAction","seriesIndex","dataIndex","dataLen","fn","pie","updateLine","object","dateList","valueList","line"],"mappings":"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","file":"js/chunk-24f047d0.eda381de.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./securityMonitor.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./securityMonitor.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"securityMonitor\"},[_c('div',{staticClass:\"btns\"},[_c('span',{class:!_vm.isChina && 'active',on:{\"click\":_vm.switchMap}},[_vm._v(\"\\n      世界\\n    \")]),_c('span',{class:_vm.isChina && 'active',on:{\"click\":_vm.switchMap}},[_vm._v(\"\\n      中国\\n    \")])]),_c('TOP',{attrs:{\"title\":\"安全事件监控\"}}),_c('PROGRESS',{staticClass:\"box_progress\",attrs:{\"listApp\":_vm.listApp,\"listIP\":_vm.listIP}}),_c('TABLE',{ref:\"table\",attrs:{\"title\":\"威胁实时监控\"}}),_c('div',{staticClass:\"left box_num\"},[_c('div',{staticClass:\"right\"},[_c('router-link',{staticClass:\"title link\",attrs:{\"to\":{ name: 'attackAnalysis' }}},[_vm._v(\"高危攻击\")]),_c('count-to',{staticClass:\"number\",attrs:{\"innerSpan\":true,\"start-val\":0,\"end-val\":_vm.highAttackNum,\"separator\":\"\"}})],1),_c('div',{staticClass:\"left\"},[_c('router-link',{staticClass:\"title link\",attrs:{\"tag\":\"div\",\"to\":{ name: 'appAnalysis' }}},[_vm._v(\"高危应用\")]),_c('count-to',{staticClass:\"number\",attrs:{\"innerSpan\":true,\"start-val\":0,\"end-val\":_vm.highAppNum,\"separator\":\"\"}})],1)]),_c('div',{staticClass:\"right box_num\"},[_c('div',{staticClass:\"right\"},[_c('router-link',{staticClass:\"title link\",attrs:{\"tag\":\"div\",\"to\":{ name: 'attackAnalysis' }}},[_vm._v(\"拦截攻击\")]),_c('count-to',{staticClass:\"number\",attrs:{\"innerSpan\":true,\"start-val\":0,\"end-val\":_vm.interceptAttackNum,\"separator\":\"\"}})],1),_c('div',{staticClass:\"left\"},[_c('router-link',{staticClass:\"title link\",attrs:{\"tag\":\"div\",\"to\":{ name: 'attackAnalysis' }}},[_vm._v(\"黑客数量\")]),_c('count-to',{staticClass:\"number\",attrs:{\"innerSpan\":true,\"start-val\":0,\"end-val\":_vm.hackersNum,\"separator\":\"\"}})],1)]),_c('div',{staticClass:\"box_pie\"},[_c('router-link',{staticClass:\"title link\",attrs:{\"to\":{ name: 'attackAnalysis' }}},[_vm._v(\"\\n      威胁类型分布\\n    \")]),_c('v-chart',{ref:\"pie\",staticClass:\"pie\",attrs:{\"options\":_vm.pieOpts}})],1),_c('div',{staticClass:\"box_line\"},[_c('router-link',{staticClass:\"title link\",attrs:{\"to\":{ name: 'attackAnalysis' }}},[_vm._v(\"\\n      攻击趋势\\n    \")]),_c('v-chart',{ref:\"line\",staticClass:\"line\",attrs:{\"options\":_vm.lineOpts}})],1),_c('v-chart',{ref:\"map\",staticClass:\"map\",attrs:{\"options\":_vm.mapOpts}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import geoCoordMap from './position.json';\n\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var dataItem = data[i];\n        var fromCoord = geoCoordMap[dataItem[1].name];\n        var toCoord = geoCoordMap[dataItem[0].name];\n        if (fromCoord && toCoord) {\n            res.push({\n                fromName: dataItem[1].name,\n                toName: dataItem[0].name,\n                coords: [fromCoord, toCoord],\n            });\n        }\n    }\n    return res;\n};\n\n// 设置点、特效点\nexport const setDot = (dot, effectDot) => {\n    let colors = {\n        high: 'rgba(241, 25, 56, 0.6)',\n        medium: 'rgba(250, 116, 26, 0.7)',\n        low: 'rgba(255, 196, 27, 0.7)',\n    };\n    let arr1 = dot.map(item => {\n        return {\n            name: item.name,\n            coord: geoCoordMap[item.name],\n            itemStyle: {\n                color: colors[item.level],\n            },\n        };\n    });\n\n    let arr2 = effectDot.map(item => {\n        return {\n            name: item.name,\n            value: geoCoordMap[item.name],\n            data: effectDot,\n        };\n    });\n    return {\n        name: '攻击源',\n        type: 'effectScatter',\n        coordinateSystem: 'geo',\n        zlevel: 2,\n        tooltip: {\n            formatter: function(data) {\n                // console.log(data);\n                var list = data.data.data.filter(item => data.data.name === item.name);\n\n                if (list && list.length > 3) {\n                    let [h, m, s] = [0, 0, 0];\n                    list.forEach(item => {\n                        h += item.high;\n                        m += item.medium;\n                        s += item.low;\n                    });\n                    return `共计  ${list.length} 个站点，位于 ${data.data.name}<br/>\n                            高危: ${h}<br/>\n                            中危: ${m}<br/>\n                            低危: ${s}\n                            `;\n                }\n                let sites = [];\n                list.forEach(item => {\n                    sites.push(\n                        `\n                            ${item.site} 站点位于 ${item.name}<br/>\n                            高危: ${item.high}<br/>\n                            中危: ${item.medium}<br/>\n                            低危: ${item.low}\n                            `,\n                    );\n                });\n\n                return sites.join('<br/><br/>');\n            },\n        },\n        rippleEffect: {\n            brushType: 'stroke',\n        },\n        itemStyle: {\n            normal: {\n                color: 'white',\n            },\n        },\n        markPoint: {\n            symbol: 'circle',\n            symbolSize: 10,\n            data: arr1,\n        },\n        data: arr2,\n    };\n};\n\n// 设置线\nexport const setLine = (data, level) => {\n    let levelList = {\n        high: {\n            name: '高危',\n            color: 'rgba(241, 25, 56, 0.6)',\n        },\n        medium: {\n            name: '中危',\n            color: 'rgba(250, 116, 26, 0.7)',\n        },\n        low: {\n            name: '低危',\n            color: 'rgba(255, 196, 27, 0.7)',\n        },\n    };\n\n    return {\n        name: levelList[level].name,\n        type: 'lines',\n        zlevel: 1,\n        effect: {\n            show: true,\n            period: 15,\n            trailLength: 0.3,\n            color: levelList[level].color,\n            symbolSize: 5,\n            constantSpeed: 20,\n        },\n        tooltip: {\n            show: false,\n        },\n        lineStyle: {\n            normal: {\n                color: levelList[level].color,\n                width: 0.3,\n                curveness: 0.2,\n                shadowColor: 'rgba(0, 0, 0, 0.5)',\n                shadowBlur: 10,\n            },\n        },\n        data: convertData(data),\n    };\n};\n\n// let levelList = {\n//     high: {\n//         name: '高危',\n//         min: 66,\n//         max: 100,\n//         color: 'rgba(241, 25, 56, 0.6)',\n//     },\n//     mid: {\n//         name: '中危',\n//         min: 33,\n//         max: 66,\n//         color: 'rgba(250, 116, 26, 0.7)',\n//     },\n//     low: {\n//         name: '低危',\n//         min: 0,\n//         max: 33,\n//         color: 'rgba(255, 196, 27, 0.7)',\n//     },\n// };\n\n// var series = [];\n\n// // 攻击路线集合 航线特效\n\n// var hackData = [\n//     [{ name: '北京' }, { name: '美国', value: 95 }],\n//     [{ name: '北京' }, { name: '南非', value: 90 }],\n//     [{ name: '北京' }, { name: '澳大利亚', value: 80 }],\n//     [{ name: '北京' }, { name: '阿联酋', value: 70 }],\n//     [{ name: '北京' }, { name: '俄罗斯', value: 60 }],\n\n//     [{ name: '北京' }, { name: '拉萨', value: 50 }],\n//     [{ name: '北京' }, { name: '长春', value: 40 }],\n//     [{ name: '北京' }, { name: '包头', value: 30 }],\n//     [{ name: '北京' }, { name: '重庆', value: 20 }],\n//     [{ name: '北京' }, { name: '常州', value: 10 }],\n\n//     [{ name: '山东' }, { name: '包头', value: 95 }],\n//     [{ name: '山东' }, { name: '昆明', value: 90 }],\n//     [{ name: '山东' }, { name: '广州', value: 80 }],\n//     [{ name: '山东' }, { name: '郑州', value: 70 }],\n//     [{ name: '山东' }, { name: '长春', value: 60 }],\n\n//     [{ name: '山东' }, { name: '美国', value: 50 }],\n//     [{ name: '山东' }, { name: '印度', value: 40 }],\n//     [{ name: '山东' }, { name: '丹麦', value: 30 }],\n//     [{ name: '山东' }, { name: '南非', value: 20 }],\n//     [{ name: '山东' }, { name: '古巴', value: 10 }],\n\n//     [{ name: '广州' }, { name: '福州', value: 95 }],\n//     [{ name: '广州' }, { name: '太原', value: 90 }],\n//     [{ name: '广州' }, { name: '长春', value: 80 }],\n//     [{ name: '广州' }, { name: '重庆', value: 70 }],\n\n//     [{ name: '广州' }, { name: '俄罗斯', value: 60 }],\n//     [{ name: '广州' }, { name: '日本', value: 20 }],\n//     [{ name: '广州' }, { name: '澳大利亚', value: 40 }],\n//     [{ name: '广州' }, { name: '美国', value: 30 }],\n//     [{ name: '广州' }, { name: '英国', value: 20 }],\n//     [{ name: '广州' }, { name: '阿联酋', value: 10 }],\n// ];\n\n// for (const level in levelList) {\n//     if (levelList.hasOwnProperty(level)) {\n//         let data = hackData.filter(item => {\n//             return (\n//                 item[1].value < levelList[level].max &&\n//                 item[1].value > levelList[level].min\n//             );\n//         });\n\n//         series.push({\n//             name: levelList[level].name,\n//             type: 'lines',\n//             zlevel: 1,\n//             effect: {\n//                 show: true,\n//                 period: 15,\n//                 trailLength: 0.3,\n//                 color: levelList[level].color,\n//                 symbolSize: 5,\n//                 constantSpeed: 20,\n//             },\n//             lineStyle: {\n//                 normal: {\n//                     color: levelList[level].color,\n//                     width: 0.3,\n//                     curveness: 0.2,\n//                     shadowColor: 'rgba(0, 0, 0, 0.5)',\n//                     shadowBlur: 10,\n//                 },\n//             },\n//             data: convertData(data),\n//         });\n//     }\n// }\n\n// // 重点显示位置 涟漪特效点\n// let showPosition = [{ name: '北京' }, { name: '山东' }, { name: '广州' }];\n// function markPointData(data) {\n//     let [arr, uniq, color] = [[], []];\n//     data.forEach(item => {\n//         if (uniq.indexOf(item[0].name) === -1) {\n//             uniq.push(item[0].name);\n//             arr.push({\n//                 name: item[0].name,\n//                 coord: geoCoordMap[item[0].name],\n//                 itemStyle: {\n//                     color: 'white',\n//                 },\n//             });\n//         }\n//         color = levelList.low.color;\n//         if (item[1].value > 33) color = levelList.mid.color;\n//         if (item[1].value > 66) color = levelList.high.color;\n\n//         if (uniq.indexOf(item[1].name) === -1) {\n//             uniq.push(item[1].name);\n//             arr.push({\n//                 name: item[1].name,\n//                 coord: geoCoordMap[item[1].name],\n//                 itemStyle: {\n//                     color: color,\n//                 },\n//             });\n//         }\n//     });\n//     return arr;\n// }\n\n// series.push({\n//     type: 'effectScatter',\n//     coordinateSystem: 'geo',\n//     zlevel: 2,\n//     rippleEffect: {\n//         brushType: 'stroke',\n//     },\n//     itemStyle: {\n//         normal: {\n//             color: 'white',\n//         },\n//     },\n//     markPoint: {\n//         symbol: 'circle',\n//         symbolSize: 10,\n//         data: markPointData(hackData),\n//     },\n//     data: showPosition.map(function(item) {\n//         return {\n//             name: item.name,\n//             value: geoCoordMap[item.name],\n//         };\n//     }),\n// });\n\n// console.log(series)\n\nexport const geoWorld = {\n    map: 'world',\n    label: {\n        emphasis: {\n            show: false,\n        },\n    },\n    top: '15%',\n    left: '15%',\n    right: '5%',\n    bottom: '15%',\n    zoom: 1,\n    roam: false,\n    itemStyle: {\n        normal: {\n            areaColor: '#2e539d',\n            borderColor: '#1b236f',\n        },\n        emphasis: {\n            areaColor: '#2e539d',\n        },\n    },\n    regions: [\n        {\n            // 选中的区域\n            name: 'China',\n            selected: true,\n            itemStyle: {\n                // 高亮时候的样式\n                emphasis: {\n                    areaColor: '#4882EE',\n                },\n            },\n            label: {\n                // 高亮的时候不显示标签\n                emphasis: {\n                    show: false,\n                },\n            },\n        },\n    ],\n};\n\nexport const geoChina = {\n    map: 'china',\n    label: {\n        emphasis: {\n            show: false,\n        },\n    },\n    top: '12%',\n    left: '24%',\n    right: '8%',\n    bottom: '15%',\n    zoom: 1,\n    roam: false,\n    itemStyle: {\n        normal: {\n            areaColor: '#2e539d',\n            borderColor: '#1b236f',\n        },\n        emphasis: {\n            areaColor: '#2e539d',\n        },\n    },\n};\n\nexport default {\n    // backgroundColor: '#1b236f',\n    tooltip: {\n        trigger: 'item',\n    },\n    geo: geoWorld,\n    series: [],\n};\n","\nlet color = [\n    ' rgba(127, 36, 239, 1)',\n    ' rgba(179, 85, 233, 1)',\n    ' rgba(211, 77, 121, 1)',\n    ' rgba(194, 67, 77,  1)',\n    ' rgba(247, 153, 55, 1)',\n    ' rgba(251, 193, 46, 1)',\n    ' rgba(212, 223, 90, 1)',\n    ' rgba(40, 190, 115, 1)',\n    ' rgba(120, 195, 197,1)',\n    ' rgba(3, 174, 235,  1)',\n    ' rgba(81, 139, 233, 1)',\n];\n\nexport const fmtSeries = obj => {\n    let list = [];\n    Object.keys(obj).forEach((key, index) => {\n        let item = {\n            name: key,\n            value: obj[key],\n        };\n        let rgb = color[index % 11];\n        let rgba = rgb.replace('1)', '0.3)');\n        item.itemStyle = {\n            color: rgba,\n            borderColor: rgb,\n            emphasis: {\n                color: rgb,\n            },\n        };\n        item.labelLine = {\n            lineStyle: {\n                color: rgb,\n            },\n        };\n        item.label = {\n            borderRadius: 0,\n            borderWidth: 1,\n            borderColor: rgb,\n            backgroundColor: rgba,\n            formatter: ['{b|{b}}', '{hr|}', '{c|{c}}'].join('\\n'),\n            rich: {\n                hr: {\n                    borderColor: rgb,\n                    width: '100%',\n                    borderWidth: 0.5,\n                    height: 0,\n                },\n                b: {\n                    width: 80,\n                    color: '#fff',\n                    align: 'center',\n                    padding: [2, 6],\n                },\n                c: {\n                    color: '#fff',\n                    width: 80,\n                    align: 'center',\n                    padding: [2, 6],\n                },\n            },\n        };\n        list.push(item);\n    });\n    return list;\n};\n\nexport default {\n    tooltip: {\n        trigger: 'item',\n        formatter: '{a} <br/>{b}: {c} ({d}%)',\n    },\n    color: color,\n    series: [\n        {\n            name: '威胁类型分布',\n            type: 'pie',\n            selectedMode: 'single',\n            minAngle: 120, //最小的扇区角度（0 ~ 360），用于防止某个值过小导致扇区太小影响交互\n            avoidLabelOverlap: true, //是否启用防止标签重叠策略\n            radius: [0, '35%'],\n\n            label: {\n                formatter: '{b}\\n{c}',\n                position: 'inner',\n            },\n            labelLine: {\n                show: false,\n            },\n            data: [\n                { value: 0, name: '高危攻击', itemStyle: { color: '#0A2AEF' } },\n                { value: 0, name: '中危攻击', itemStyle: { color: '#2A6AFF' } },\n                { value: 0, name: '低危攻击', itemStyle: { color: '#4D8CFF' } },\n            ],\n        },\n        {\n            name: '威胁类型分布',\n            type: 'pie',\n            minAngle: 10, //最小的扇区角度（0 ~ 360），用于防止某个值过小导致扇区太小影响交互\n            avoidLabelOverlap: true, //是否启用防止标签重叠策略\n            radius: ['42%', '55%'],\n            data: [],\n        },\n    ],\n};\n","var date = [];\nvar data = [Math.ceil(Math.random() * 500)];\nvar now = new Date();\n\nexport function addLineData(shift) {\n    now = [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/');\n    date.push(now);\n    data.push(Math.ceil(Math.random() * 500));\n\n    if (shift) {\n        date.shift();\n        data.shift();\n    }\n\n    now = new Date(+new Date(now) + 24 * 3600 * 1000);\n}\n\nfor (var i = 1; i < 15; i++) addLineData();\n\nexport default {\n    animationDuration: 3000,\n    tooltip: {\n        trigger: 'axis',\n    },\n    grid: {\n        top: 80,\n    },\n    xAxis: {\n        type: 'category',\n        boundaryGap: false,\n        axisLabel: {\n            color: 'white',\n            rotate: -30,\n        },\n        axisLine: {\n            lineStyle: {\n                color: 'white',\n            },\n        },\n        data: date,\n    },\n    yAxis: {\n        axisLabel: {\n            color: 'white',\n        },\n        axisLine: {\n            lineStyle: {\n                color: 'white',\n            },\n        },\n        splitLine: {\n            lineStyle: {\n                color: '#536388',\n                type: 'dashed',\n            },\n        },\n        boundaryGap: [0, '50%'],\n        type: 'value',\n    },\n    series: [\n        {\n            name: '当日攻击数量',\n            type: 'line',\n            // smooth:true,\n            // symbol: 'none',\n            stack: 'a',\n            lineStyle: {\n                color: 'rgba(76,140,255,1)',\n            },\n            areaStyle: {\n                color: {\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    type: 'linear',\n                    global: false,\n                    colorStops: [\n                        { offset: 0, color: '#4D8CFF' },\n                        { offset: 1, color: 'rgba(131,77,255,0.00)' },\n                    ],\n                },\n            },\n            symbolSize: 8,\n            itemStyle: {\n                borderWidth: 2,\n                borderColor: '#4D8CFF',\n            },\n            data: [],\n        },\n    ],\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box_progress\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.boxBarIP ? \"威胁IP TOP10\" : \"高危应用 TOP10\"))]),_c('div',{staticClass:\"btns\"},[_c('span',{class:_vm.boxBarIP && 'active',on:{\"click\":function($event){return _vm.switchBox(true)}}},[_vm._v(\"\\n      威胁IP\\n    \")]),_c('span',{class:!_vm.boxBarIP && 'active',on:{\"click\":function($event){return _vm.switchBox(false)}}},[_vm._v(\"\\n      高危应用\\n    \")])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"roll\",style:(_vm.rollStyle)},_vm._l((_vm.list),function(item,index){return _c('div',{key:item.name + index,staticClass:\"row\"},[_c('p',[_c('span',{staticClass:\"link\",on:{\"click\":function($event){return _vm.onClick(index)}}},[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(_vm._s(item.value))])]),_c('div',{staticClass:\"progress\"},[_c('div',{staticClass:\"progress_inner\",style:({ width: (((item.value / _vm.list[0].value) * 100) + \"%\") })})])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"box_progress\">\n    <span class=\"title\">{{\n      boxBarIP ? \"威胁IP TOP10\" : \"高危应用 TOP10\"\n    }}</span>\n    <div class=\"btns\">\n      <span :class=\"boxBarIP && 'active'\" @click=\"switchBox(true)\">\n        威胁IP\n      </span>\n      <span :class=\"!boxBarIP && 'active'\" @click=\"switchBox(false)\">\n        高危应用\n      </span>\n    </div>\n    <div class=\"content\">\n      <div class=\"roll\" :style=\"rollStyle\">\n        <div v-for=\"(item, index) in list\" :key=\"item.name + index\" class=\"row\">\n          <p>\n            <span class=\"link\" @click=\"onClick(index)\">{{ item.name }}</span>\n            <span>{{ item.value }}</span>\n          </p>\n          <div class=\"progress\">\n            <div\n              class=\"progress_inner\"\n              :style=\"{ width: `${(item.value / list[0].value) * 100}%` }\"\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: [\"listApp\", \"listIP\"],\n  name: \"box_progress\",\n  data() {\n    return {\n      timerRefresh: null,\n      timer: null,\n      rollStyle: {\n        top: 0\n      },\n      boxBarIP: true // IP APP\n    };\n  },\n  computed: {\n    list() {\n      return this.boxBarIP ? this.listIP : this.listApp;\n    }\n  },\n  mounted() {\n    this.animation();\n  },\n  beforeDestroy() {\n    this.timer && clearInterval(this.timer);\n  },\n  methods: {\n    onClick(i) {\n      console.log(i, this.boxBarIP);\n      if (this.boxBarIP) {\n        this.$router.push({\n          name: \"attackTracking\",\n          query: {\n            ip: this.listIP[i].name\n          }\n        });\n      } else {\n        this.$router.push({\n          name: \"attackAnalysis\",\n          query: {\n            site_id: this.listApp[i].id\n          }\n        });\n      }\n    },\n    animation() {\n      this.timer = setInterval(() => {\n        if (this.list.length > 5) {\n          this.rollStyle.top =\n            this.rollStyle.top === 0 ? `-${40 * (this.list.length - 5)}px` : 0;\n        }\n      }, 15 * 1000);\n    },\n    switchBox(bool) {\n      this.boxBarIP = bool;\n      this.rollStyle.top = 0;\n    }\n  }\n};\n</script>\n\n <style lang=\"scss\" scoped>\n@import \"../assets/style/mixin.scss\";\n.box_progress {\n  @include btns;\n  @include box_title;\n\n  @keyframes _flash {\n    0% {\n      width: 0;\n    }\n    10% {\n      width: 100%;\n    }\n    100% {\n      width: 100%;\n    }\n  }\n\n  .title {\n    top: 15px;\n  }\n  .content {\n    position: absolute;\n    width: 100%;\n    bottom: 15px;\n    height: 200px;\n    overflow: hidden;\n    left: 0;\n    line-height: normal;\n    .roll {\n      transition: top 1s;\n      position: absolute;\n      width: 100%;\n      left: 0;\n      top: 0;\n      bottom: auto;\n      padding: 0 30px;\n    }\n\n    .row {\n      width: 100%;\n      height: 40px;\n      p {\n        font-size: 14px;\n        color: white;\n        margin: 0;\n        padding: 5px 0;\n        span:last-child {\n          float: right;\n        }\n      }\n      .progress {\n        background: #192a69;\n        height: 8px;\n        width: 100%;\n        border-radius: 4px;\n        overflow: hidden;\n        .progress_inner {\n          height: 100%;\n          background-image: linear-gradient(to right, #224482, #4d8cff);\n          width: 30%;\n          float: left;\n          position: relative;\n          border-radius: 4px;\n        }\n        .progress_inner::after {\n          content: \"\";\n          height: 100%;\n          width: 0;\n          left: 0;\n          top: 0;\n          z-index: 1;\n          border-radius: 4px;\n          position: absolute;\n          animation: _flash 5s linear 2s infinite;\n          background-image: linear-gradient(to right, #224482, #4d8cff);\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./box_progress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./box_progress.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./box_progress.vue?vue&type=template&id=427aa63a&scoped=true&\"\nimport script from \"./box_progress.vue?vue&type=script&lang=js&\"\nexport * from \"./box_progress.vue?vue&type=script&lang=js&\"\nimport style0 from \"./box_progress.vue?vue&type=style&index=0&id=427aa63a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"427aa63a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box_table\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"scrollTable\"},[_vm._m(0),_c('transition-group',{staticClass:\"body\",attrs:{\"name\":\"add-animation\",\"tag\":\"div\"}},_vm._l((_vm.tableList),function(item,index){return _c('div',{key:index + +new Date(),staticClass:\"row add-animation-item\",class:index % 2 == 0 ? 'deep' : 'light'},[_c('span',{staticClass:\"link\",on:{\"click\":function($event){return _vm.onClickIP(item)}}},[_vm._v(_vm._s(item.remote_ip))]),_c('span',[_vm._v(_vm._s(item.server_ip))]),_c('span',[_vm._v(_vm._s(_vm.fmtDate(\"Y-M-D hh:mm:ss\", item.attack_time)))]),_c('span',[_vm._v(_vm._s(item.attack_type))])])}),0)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('span',[_vm._v(\"嫌疑IP\")]),_c('span',[_vm._v(\"访问地址\")]),_c('span',[_vm._v(\"攻击时间\")]),_c('span',[_vm._v(\"攻击类型\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"box_table\">\n    <span class=\"title\">{{ title }}</span>\n\n    <!-- <div class=\"btns\">\n      <span class=\"active\"> more </span>\n    </div> -->\n    <div class=\"scrollTable\">\n      <div class=\"header\">\n        <span>嫌疑IP</span>\n        <span>访问地址</span>\n        <span>攻击时间</span>\n        <span>攻击类型</span>\n      </div>\n      <!-- <div class=\"body\"> -->\n      <transition-group class=\"body\" name=\"add-animation\" tag=\"div\">\n        <div\n          class=\"row add-animation-item\"\n          v-for=\"(item, index) in tableList\"\n          :class=\"index % 2 == 0 ? 'deep' : 'light'\"\n          :key=\"index + +new Date()\"\n        >\n          <span class=\"link\" @click=\"onClickIP(item)\">{{\n            item.remote_ip\n          }}</span>\n          <span>{{ item.server_ip }}</span>\n          <span>{{ fmtDate(\"Y-M-D hh:mm:ss\", item.attack_time) }}</span>\n          <span>{{ item.attack_type }}</span>\n        </div>\n      </transition-group>\n    </div>\n  </div>\n</template>\n<script>\nimport { fmtDate } from \"@/utils/utils\";\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: \"威胁实时监控\"\n    }\n  },\n  data() {\n    return {\n      tableList: []\n    };\n  },\n\n  methods: {\n    fmtDate,\n    updateTable(list) {\n      // 去重\n      let ids = this.tableList.map(i => i[\"_id\"]);\n      let news = list.filter(i => ids.indexOf(i[\"_id\"]) === -1);\n\n      this.tableList = news.concat(this.tableList.slice(0, 4));\n    },\n    onClickIP(item) {\n      this.$router.push({\n        name: \"attackTracking\",\n        query: {\n          id: item.id,\n          ip: item.remote_ip\n        }\n      });\n      // const { href } = this.$router.resolve({\n      //   name: \"attackTracking\",\n      //   query: {\n      //     id: item.id,\n      //     ip: item.remote_ip\n      //   }\n      // });\n      // window.open(href, \"_blank\");\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/style/mixin.scss\";\n.box_table {\n  @include btns;\n  @include box_title;\n  @include position(600, 260, false, 30, false, 30) {\n    background: url(../assets/images/bottomCenter.png);\n  }\n\n  overflow: hidden;\n\n  .add-animation-item {\n    transition: transform 1s;\n  }\n  .add-animation-enter,\n  .add-animation-leave-to {\n    opacity: 0;\n    transform: translateY(-168px);\n  }\n  .add-animation-leave-active {\n    position: absolute;\n  }\n\n  .title {\n    top: 10px;\n  }\n  .scrollTable {\n    width: 600px;\n    margin-top: 42px;\n    height: 210px;\n    overflow: hidden;\n    .header,\n    .row {\n      width: 100%;\n      height: 42px;\n      text-align: left;\n      color: white;\n      background: #4377e2;\n      span {\n        display: inline-flex;\n        flex-flow: row nowrap;\n        align-items: center;\n        width: 25%;\n        height: 100%;\n        border-right: 1px solid #0d2346;\n        padding: 0 20px;\n      }\n      span:nth-child(3) {\n        justify-content: center;\n        text-align: center;\n        padding: 0;\n      }\n      span:last-child {\n        border: 0;\n      }\n    }\n    .body {\n      height: 80%;\n      overflow: hidden;\n      .row {\n        height: 25%;\n        // transition: height 1200ms;\n        overflow: hidden;\n        // background: rgba(22, 45, 94, 0.8);\n        // border-bottom: 1px solid #0d2346;\n        &.deep {\n          background: rgba(22, 45, 94, 0.8);\n        }\n        &.light {\n          background: rgba(46, 87, 165, 0.8);\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./box_table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./box_table.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./box_table.vue?vue&type=template&id=bf8dd29e&scoped=true&\"\nimport script from \"./box_table.vue?vue&type=script&lang=js&\"\nexport * from \"./box_table.vue?vue&type=script&lang=js&\"\nimport style0 from \"./box_table.vue?vue&type=style&index=0&id=bf8dd29e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf8dd29e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"securityMonitor\">\n    <!-- <div class=\"masking\"></div> -->\n    <div class=\"btns\">\n      <span :class=\"!isChina && 'active'\" @click=\"switchMap\">\n        世界\n      </span>\n      <span :class=\"isChina && 'active'\" @click=\"switchMap\">\n        中国\n      </span>\n    </div>\n    <!-- TOP -->\n    <TOP title=\"安全事件监控\" />\n    <!-- PROGRESS -->\n    <PROGRESS class=\"box_progress\" :listApp=\"listApp\" :listIP=\"listIP\" />\n    <!-- TABLE -->\n    <TABLE title=\"威胁实时监控\" ref=\"table\" />\n    <div class=\"left box_num\">\n      <div class=\"right\">\n        <router-link class=\"title link\" :to=\"{ name: 'attackAnalysis' }\"\n          >高危攻击</router-link\n        >\n        <count-to\n          :innerSpan=\"true\"\n          class=\"number\"\n          :start-val=\"0\"\n          :end-val=\"highAttackNum\"\n          separator=\"\"\n        />\n      </div>\n      <div class=\"left\">\n        <router-link tag=\"div\" class=\"title link\" :to=\"{ name: 'appAnalysis' }\"\n          >高危应用</router-link\n        >\n        <count-to\n          :innerSpan=\"true\"\n          class=\"number\"\n          :start-val=\"0\"\n          :end-val=\"highAppNum\"\n          separator=\"\"\n        />\n      </div>\n    </div>\n    <div class=\"right box_num\">\n      <div class=\"right\">\n        <router-link\n          tag=\"div\"\n          class=\"title link\"\n          :to=\"{ name: 'attackAnalysis' }\"\n          >拦截攻击</router-link\n        >\n        <count-to\n          :innerSpan=\"true\"\n          class=\"number\"\n          :start-val=\"0\"\n          :end-val=\"interceptAttackNum\"\n          separator=\"\"\n        />\n      </div>\n      <div class=\"left\">\n        <router-link\n          tag=\"div\"\n          class=\"title link\"\n          :to=\"{ name: 'attackAnalysis' }\"\n          >黑客数量</router-link\n        >\n        <count-to\n          :innerSpan=\"true\"\n          class=\"number\"\n          :start-val=\"0\"\n          :end-val=\"hackersNum\"\n          separator=\"\"\n        />\n      </div>\n    </div>\n    <div class=\"box_pie\">\n      <router-link class=\"title link\" :to=\"{ name: 'attackAnalysis' }\">\n        威胁类型分布\n      </router-link>\n      <!-- <span class=\"title\">威胁类型分布</span> -->\n      <v-chart class=\"pie\" ref=\"pie\" :options=\"pieOpts\" />\n    </div>\n    <div class=\"box_line\">\n      <!-- <span class=\"title\">攻击趋势</span> -->\n      <router-link class=\"title link\" :to=\"{ name: 'attackAnalysis' }\">\n        攻击趋势\n      </router-link>\n      <v-chart class=\"line\" ref=\"line\" :options=\"lineOpts\" />\n    </div>\n    <v-chart class=\"map\" ref=\"map\" :options=\"mapOpts\" />\n  </div>\n</template>\n<script>\nimport empty from \"@/model/chart_null.js\";\nimport opts_map, {\n  setDot,\n  setLine,\n  geoChina,\n  geoWorld\n} from \"@/model/chart_map.js\";\nimport opts_pie, { fmtSeries } from \"@/model/chart_pie.js\";\nimport opts_line from \"@/model/chart_line.js\";\nimport { fmtDate } from \"@/utils/utils\";\n\nimport TOP from \"@/components/box_top\";\nimport PROGRESS from \"@/components/box_progress\";\nimport TABLE from \"@/components/box_table\";\n\nimport { api, asyncFn } from \"@/api/api\";\nexport default {\n  name: \"securityMonitor\",\n  components: {\n    TOP,\n    PROGRESS,\n    TABLE\n  },\n  data() {\n    return {\n      timer: null,\n      timerPie: null, // 饼状图动画\n      timerMap: null, // 地图动画\n      isChina: false,\n      mapOpts: opts_map,\n      mapDataWorld: [],\n      mapDataChina: [],\n      pieOpts: empty,\n      lineOpts: empty,\n      highAttackNum: 0, // 高危攻击\n      highAppNum: 0, // 高危应用\n      interceptAttackNum: 0, // 拦截攻击\n      hackersNum: 0, // 黑客数量\n      listApp: [], // 高危10 应用\n      listIP: [] // 高危10 IP\n    };\n  },\n  created() {\n    this.getData();\n    // 实时刷新 间隔周期30秒\n    this.timer = setInterval(this.getData, 30 * 1000);\n  },\n  beforeDestroy() {\n    if (this.timer) clearInterval(this.timer);\n    if (this.timerPie) clearInterval(this.timerPie);\n    if (this.timerMap) clearInterval(this.timerMap);\n    this.timer = null;\n    this.timerPie = null;\n    this.timerMap = null;\n  },\n  methods: {\n    getData() {\n      console.log(\"实时刷新 间隔周期30秒\");\n      // this.$refs.map && this.$refs.map.showLoading(loadingTheme);\n      // 地图\n      asyncFn(api.globalAttack, {\n        startTime: \"1970-01-01 00:00:00\",\n        endTime: fmtDate(\"Y-M-D\") + \" 23:59:59\",\n        isChinaMap: false\n      }).then(i => {\n        if (i) {\n          this.mapDataWorld = i;\n          this.updateMap();\n        }\n      });\n\n      asyncFn(api.globalAttack, {\n        startTime: \"1970-01-01 00:00:00\",\n        endTime: fmtDate(\"Y-M-D\") + \" 23:59:59\",\n        isChinaMap: true\n      }).then(i => {\n        if (i) this.mapDataChina = i;\n      });\n\n      // 高危攻击 + 威胁类型分布\n      asyncFn(api.getAttackTypeAndLevel).then(i => i && this.updatePie(i));\n      // 拦截数量\n      asyncFn(api.interceptNumber).then(\n        i => i && (this.interceptAttackNum = i)\n      );\n      // 黑客人数\n      asyncFn(api.hackerNumber).then(i => i && (this.hackersNum = i.hackerNum));\n      // 高危应用数\n      asyncFn(api.getApplicationLevel).then(\n        i => i && (this.highAppNum = i.highApplication)\n      );\n      // 攻击趋势 MONTH YEAR\n      asyncFn(api.attackTrends, { interval: \"MONTH\" }).then(\n        i => i && this.updateLine(i)\n      );\n      // 威胁实时监控\n      asyncFn(api.getAttackInfo, {\n        pageSize: 4\n      }).then(i => i && this.updateTable(i));\n      // top 10 IP 应用\n      asyncFn(api.highAttackAppTop10).then(obj => {\n        this.listApp = obj;\n      });\n      // 威胁IP\n      asyncFn(api.threatenIp).then(obj => {\n        this.listIP = obj;\n      });\n    },\n    updateTable(data) {\n      var list = data.map(item => {\n        return {\n          id: item._id,\n          remote_ip: item.remote_ip,\n          server_ip: item.server_ip,\n          attack_time: item.attack_time,\n          attack_type: item.attack_type\n        };\n      });\n      this.$nextTick(() => {\n        this.$refs.table.updateTable(list);\n      });\n    },\n    switchMap() {\n      this.isChina = !this.isChina;\n      this.updateMap();\n    },\n    updateMap() {\n      let data = this.isChina ? this.mapDataChina : this.mapDataWorld;\n      let [dot, effectDot, highLine, mediumLine, lowLine] = [\n        [],\n        [],\n        [],\n        [],\n        []\n      ];\n      data.forEach(i => {\n        let address = i.site_address.replace(\"市\", \"\");\n        address = address.replace(\"省\", \"\");\n\n        let [high, medium, low] = [0, 0, 0];\n\n        i[\"attack_address\"].forEach(j => {\n          let _tmp = j[\"attack.harm_level\"];\n          let _high = _tmp.high || 0;\n          let _medium = _tmp.medium || 0;\n          let _low = _tmp.low || 0;\n          let _line = [{ name: address }, { name: j.name }];\n          let _dot = {\n            name: j.name,\n            level: \"low\",\n            data: {\n              high: _high,\n              medium: _medium,\n              low: _low\n            }\n          };\n          // 高中低汇总\n          high += _high;\n          medium += _medium;\n          low += _low;\n          // 攻击线\n          if (_high > 0 && j.name) {\n            highLine.push(_line);\n            _dot.level = \"high\";\n            dot.push(_dot);\n          } else if (_medium > 0 && j.name) {\n            mediumLine.push(_line);\n            _dot.level = \"medium\";\n            dot.push(_dot);\n          } else if (_low > 0 && j.name) {\n            lowLine.push(_line);\n            _dot.level = \"low\";\n            // dot.push(_dot); // 是否显示低危\n          }\n        });\n        effectDot.push({\n          name: address,\n          site: i.site_name,\n          high,\n          medium,\n          low\n        });\n      });\n\n      let tmp = JSON.parse(JSON.stringify(opts_map));\n      tmp.geo = this.isChina ? geoChina : geoWorld;\n\n      tmp.series.push(setLine(highLine, \"high\"));\n      tmp.series.push(setLine(mediumLine, \"medium\"));\n      // tmp.series.push(setLine(lowLine, \"low\")); // 是否显示低危\n      tmp.series.push(setDot(dot, effectDot));\n\n      this.$refs.map.clear();\n      // this.$refs.map.hideLoading();\n      this.mapOpts = tmp;\n\n      if (this.timerMap === null) this.$nextTick(this.animationMap);\n    },\n    updatePie(data) {\n      if (data.attackLevel && Object.keys(data.attackLevel).length === 0) {\n        this.pieOpts = empty;\n        return false;\n      }\n\n      let tmp = JSON.parse(JSON.stringify(opts_pie));\n\n      this.highAttackNum = data.attackLevel.high || 0;\n\n      tmp.series[0].data[0].value = data.attackLevel.high || 0;\n      tmp.series[0].data[1].value = data.attackLevel.medium || 0;\n      tmp.series[0].data[2].value = data.attackLevel.low || 0;\n\n      tmp.series[1].data = fmtSeries(data.attackType);\n      this.pieOpts = tmp;\n\n      if (this.timerPie === null) this.$nextTick(this.animationPie);\n    },\n    animationMap() {\n      let dataIndex = -1;\n      let map = this.$refs.map;\n      let dataLen = map.options.series[2].data.length;\n\n      let fn = () => {\n        map.dispatchAction({\n          type: \"downplay\",\n          seriesIndex: 2,\n          dataIndex\n        });\n        dataIndex = (dataIndex + 1) % dataLen;\n        map.dispatchAction({\n          type: \"highlight\",\n          seriesIndex: 2,\n          dataIndex\n        });\n        // 显示 tooltip\n        map.dispatchAction({\n          type: \"showTip\",\n          seriesIndex: 2,\n          dataIndex\n        });\n      };\n\n      fn();\n      this.timerMap = setInterval(fn, 5 * 1000);\n    },\n    animationPie() {\n      let dataIndex = -1;\n      let pie = this.$refs.pie;\n      let dataLen = pie.options.series[1].data.length;\n      let fn = () => {\n        pie.dispatchAction({\n          type: \"downplay\",\n          seriesIndex: 1,\n          dataIndex\n        });\n        dataIndex = (dataIndex + 1) % dataLen;\n        pie.dispatchAction({\n          type: \"highlight\",\n          seriesIndex: 1,\n          dataIndex\n        });\n        // 显示 tooltip\n        pie.dispatchAction({\n          type: \"showTip\",\n          seriesIndex: 1,\n          dataIndex\n        });\n      };\n      fn();\n      this.timerPie = setInterval(fn, 5 * 1000);\n    },\n    updateLine(object) {\n      let tmp = JSON.parse(JSON.stringify(opts_line));\n      let dateList = [];\n      let valueList = [];\n      object.forEach(i => {\n        let time = new Date(i.name);\n        dateList.push(`${time.getFullYear()}年${time.getMonth() + 1}月`);\n        valueList.push(i.value);\n      });\n      // for (const key in object) {\n      //   if (object.hasOwnProperty(key)) {\n      //     let time = new Date(key);\n      //     dateList.push(`${time.getFullYear()}年${time.getMonth() + 1}月`);\n      //     valueList.push(object[key]);\n      //   }\n      // }\n      tmp.series[0].data = valueList;\n      tmp.xAxis.data = dateList;\n      this.$refs.line && this.$refs.line.clear();\n      this.lineOpts = tmp;\n    }\n  }\n};\n</script>\n\n\n<style lang=\"scss\">\n@import \"../assets/style/mixin.scss\";\n.securityMonitor {\n  @include btns() {\n    top: 240/1080 * 100%;\n    right: 30px;\n  }\n  position: relative;\n  width: 100%;\n  height: 100%;\n  .map {\n    width: 1920px;\n    height: 1080px;\n  }\n  .masking {\n    pointer-events: none;\n    @include position(1920, 1080, 0, false, 0, false) {\n      background: linear-gradient(\n        45deg,\n        rgba(29, 35, 115, 1) 30%,\n        rgba(0, 0, 0, 0) 60%,\n        rgba(0, 0, 0, 0) 100%\n      );\n    }\n  }\n  .box_progress {\n    @include position(600, 260, false, 30, 660, false) {\n      background: url(../assets/images/bottomCenter.png);\n    }\n  }\n  .box_num {\n    display: flex;\n    flex-flow: row nowrap;\n    > div {\n      width: 50%;\n    }\n    .title {\n      display: block;\n      font-size: 18px;\n      text-align: center;\n      color: white;\n      padding-top: 27px;\n      letter-spacing: 2px;\n      padding-bottom: 17px;\n    }\n    .number {\n      display: block;\n      text-align: center;\n      span {\n        margin: 0 2px;\n        text-align: center;\n        display: inline-block;\n        min-width: 27px;\n        height: 40px;\n        line-height: 40px;\n        font-family: \"ROBOT\";\n        background: #345db7;\n        color: white;\n        font-size: 36px;\n      }\n    }\n  }\n  .box_num.left {\n    @include position(600, 140, 70, false, 30, false) {\n      background: url(../assets/images/topLeft.png);\n    }\n  }\n  .box_num.right {\n    @include position(600, 140, 70, false, false, 30) {\n      background: url(../assets/images/topRight.png);\n    }\n  }\n\n  .box_pie {\n    @include box_title;\n    @include position(600, 420, 240, false, 30, false) {\n      background: url(../assets/images/left.png);\n    }\n    .pie {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .box_line {\n    @include box_title;\n    @include position(600, 360, false, 30, 30, false) {\n      background: url(../assets/images/bottomLeft.png);\n    }\n    .line {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  // .scrollTable {\n  //   width: 100%;\n  //   height: 100%;\n  //   .header,\n  //   .row {\n  //     width: 100%;\n  //     height: 20%;\n  //     display: flex;\n  //     flex-flow: row nowrap;\n  //     justify-content: space-between;\n  //     align-items: center;\n  //     text-align: left;\n  //     color: white;\n  //     background: rgba(46, 87, 165, 0.8);\n  //     span {\n  //       display: inline-flex;\n  //       flex-flow: row nowrap;\n  //       align-items: center;\n  //       width: 25%;\n  //       height: 100%;\n  //       border-right: 1px solid #0d2346;\n  //       padding: 0 20px;\n  //     }\n  //     span:nth-child(3) {\n  //       justify-content: center;\n  //       text-align: center;\n  //       padding: 0;\n  //     }\n  //     span:last-child {\n  //       border: 0;\n  //     }\n  //   }\n  //   .body {\n  //     height: 80%;\n  //     overflow: hidden;\n  //     .row {\n  //       height: 20%;\n  //       transition: height 1200ms;\n  //       overflow: hidden;\n  //       &:nth-child(odd) {\n  //         background: rgba(22, 45, 94, 0.8);\n  //       }\n  //       &:nth-child(even) {\n  //         background: rgba(46, 87, 165, 0.8);\n  //       }\n  //     }\n  //   }\n  // }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./securityMonitor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./securityMonitor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./securityMonitor.vue?vue&type=template&id=30afbbec&\"\nimport script from \"./securityMonitor.vue?vue&type=script&lang=js&\"\nexport * from \"./securityMonitor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./securityMonitor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./box_table.vue?vue&type=style&index=0&id=bf8dd29e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./box_table.vue?vue&type=style&index=0&id=bf8dd29e&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./box_progress.vue?vue&type=style&index=0&id=427aa63a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./box_progress.vue?vue&type=style&index=0&id=427aa63a&lang=scss&scoped=true&\""],"sourceRoot":""}